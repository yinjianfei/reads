#haystack


## pain point
**多次磁盘读取**

1. 根据文件名找到对应的inode
2. 从磁盘读取inode内容
3. 根据inode内容读取文件
4. 如果将所有inode信息都缓存到内存中可以解决一部分问题
5. 由于每个inode有几百byte大，所以缓存所有inode并不是一个高效的方案。

## 高吞吐低延迟

1. 通过大幅减少每个图片的元数据信息,实现将所有图片的元数据信息保存到内存中
2. 实现了每次文件读取只需要访问一次磁盘

## 容错

1. 将不同的图片复制到地理位置不同的data center中
2. 冗余备份

## 高效
